<!DOCTYPE html>
<html lang="en" itemscope="" itemtype="http://schema.org/Article"><head>
    <meta charset="UTF-8">
    <title>Nexmo API Standards</title>

    
    <link rel="stylesheet" href="/api-standards/css/volta.min.css"> 

    
    
    <link rel="stylesheet" href="/api-standards/css/addons/volta-prism.css">
    <link rel="stylesheet" href="/api-standards/css/volta-templates.min.css">

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>
</head>
<body class="Vlt-template Vlt-template--sidenav">    <body class="Vlt-template Vlt-template--sidenav"> 

      <header class="Vlt-sidenav__mobile Vlt-sidenav__mobile--dark">
          <a href="/"><img class="Vlt-sidenav__mobile__logo" src="/api-standards/images/logos/nexmo-logo--collapsed.svg"></a>
        <button id="Vlt-sidenav-mobile-trigger">
          <svg class="Vlt-sidenav__collapse__close">
            <use xlink:href="/symbol/volta-icons.svg#Vlt-icon-menu"></use>
          </svg>
        </button>
      </header>

      <aside id="Vlt-sidenav" class="Vlt-sidenav Vlt-sidenav--dark">
        
        
        <script>
          loadMenu();   
function loadMenu() {
  if(localStorage.getItem('menuCollapse')) {
    $('#Vlt-sidenav .Vlt-sidemenu__trigger_active').removeClass('Vlt-sidemenu__trigger_active');
    $('#Vlt-sidenav').addClass('Vlt-sidenav--collapsed');
  }
}
        </script>
        

        <div class="Vlt-sidenav__block Vlt-sidenav__block--logo Vlt-M-plus">
          <a class="Vlt-sidenav__logo" href="/">
              <img class="Vlt-sidenav__elem--full" src="/api-standards/images/logos/nexmo-logo.svg">
              <img class="Vlt-sidenav__elem--collapsed" src="/api-standards/images/logos/nexmo-logo--collapsed.svg">
          </a>
          <div id="Vlt-sidenav-collapse-trigger" class="Vlt-sidenav__collapse">
            <svg class="Vlt-sidenav__collapse__close"><use xlink:href="/symbol/volta-icons.svg#Vlt-icon-chevron-left"></use></svg>
            <svg class="Vlt-sidenav__collapse__open"><use xlink:href="/symbol/volta-icons.svg#Vlt-icon-menu"></use></svg>
          </div>
        </div>

        <div class="Vlt-sidenav__scroll">
          <ul class="Vlt-sidemenu Vlt-sidemenu--rounded">
            <li role="separator"><h5 class="Vlt-sidemenu__title">HTTP Codes</h5></li>
            
            
            <li>
              <p class="Vlt-sidemenu__trigger">
              <span class="Vlt-sidemenu__label">2xx</span>
              </p>
              <ul>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/200/"><span class="Vlt-sidemenu__label">200</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/201/"><span class="Vlt-sidemenu__label">201</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/202/"><span class="Vlt-sidemenu__label">202</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/204/"><span class="Vlt-sidemenu__label">204</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/207/"><span class="Vlt-sidemenu__label">207</span></a></li>
            
            
                
                
                    </ul>
                    </li>
                    <li>
                      <p class="Vlt-sidemenu__trigger">
                      <span class="Vlt-sidemenu__label">4xx</span>
                      </p>
                      <ul>
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/400/"><span class="Vlt-sidemenu__label">400</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/401/"><span class="Vlt-sidemenu__label">401</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/403/"><span class="Vlt-sidemenu__label">403</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/404/"><span class="Vlt-sidemenu__label">404</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/405/"><span class="Vlt-sidemenu__label">405</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/406/"><span class="Vlt-sidemenu__label">406</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/409/"><span class="Vlt-sidemenu__label">409</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/410/"><span class="Vlt-sidemenu__label">410</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/415/"><span class="Vlt-sidemenu__label">415</span></a></li>
            
            
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/429/"><span class="Vlt-sidemenu__label">429</span></a></li>
            
            
                
                
                    </ul>
                    </li>
                    <li>
                      <p class="Vlt-sidemenu__trigger">
                      <span class="Vlt-sidemenu__label">5xx</span>
                      </p>
                      <ul>
                
                <li><a class="Vlt-sidemenu__link" href="/api-standards/http-code/500/"><span class="Vlt-sidemenu__label">500</span></a></li>
            
              </ul>
            </li>

            
            <li role="separator"><h5 class="Vlt-sidemenu__title">Callbacks</h5></li>
              <ul>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/webhooks/"><span class="Vlt-sidemenu__label">Webhooks</span></a></li>
                  
              </ul>
            </li>
            
            <li role="separator"><h5 class="Vlt-sidemenu__title">Properties</h5></li>
              <ul>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/data-structure/"><span class="Vlt-sidemenu__label">Data Structure</span></a></li>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/decimal-precision/"><span class="Vlt-sidemenu__label">Decimal Precision</span></a></li>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/property-names/"><span class="Vlt-sidemenu__label">Property Names</span></a></li>
                  
              </ul>
            </li>
            
            <li role="separator"><h5 class="Vlt-sidemenu__title">Request</h5></li>
              <ul>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/http-verbs/"><span class="Vlt-sidemenu__label">HTTP Verbs</span></a></li>
                  
              </ul>
            </li>
            
            <li role="separator"><h5 class="Vlt-sidemenu__title">Response</h5></li>
              <ul>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/pagination/"><span class="Vlt-sidemenu__label">Pagination</span></a></li>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/hal-json/"><span class="Vlt-sidemenu__label">HAL-JSON</span></a></li>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/errors/"><span class="Vlt-sidemenu__label">Errors</span></a></li>
                  
              </ul>
            </li>
            
            <li role="separator"><h5 class="Vlt-sidemenu__title">Uri</h5></li>
              <ul>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/resource-names/"><span class="Vlt-sidemenu__label">Resource Names</span></a></li>
                  
              </ul>
            </li>
            
            <li role="separator"><h5 class="Vlt-sidemenu__title">Versioning</h5></li>
              <ul>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/versioning/"><span class="Vlt-sidemenu__label">API Versioning</span></a></li>
                  
                  <li><a class="Vlt-sidemenu__link" href="/api-standards/standard/deprecation/"><span class="Vlt-sidemenu__label">Deprecation</span></a></li>
                  
              </ul>
            </li>
            
          </ul>
        </div>
      </aside>

      <main class="Vlt-main Vlt-main--dark">

          <div class="Vlt-card Vlt-article">
<div id="content">
<h1>Pagination</h1>


<p>APIs at Nexmo shall use one of the following pagination schemes:</p>

<ul>
<li>Cursor based for ever-expanding data sets, or where it&rsquo;s infeasible to count the total number of records e.g. Voice API call log. Cursor based pagination is also used when data is programatically added to a data set e.g.  call recordings to the Media API</li>
<li>Page based for small, managed APIs where the customer is in control of what is in the data set e.g. Number pools</li>
</ul>

<p>To the customer, having two different pagination methods is OK, as in practice they should request the first page and then follow the <code>_links.next</code> URL to get the next page.</p>

<p>Cursor implementation can be decided by the engineering team. Results returned must be consistently ordered, and the customer can decide if the data set is returned in ascending or descending order.</p>

<h4 id="cursor-based">Cursor based</h4>

<p>Nexmo APIs shall use a cursor as their pagination option unless otherwise agreed with DevRel.</p>

<blockquote>
<p>Cursors, if youâ€™re not familiar, are like pointers. Pointers point at things, they reference a specific iota, a place in the list where your last request left off. A bookmark with breadcrumbs built in. (via <a href="https://api.slack.com/docs/pagination#cursors">Slack</a>)</p>
</blockquote>

<ul>
<li>There shall be a way to page through collections without additional filters.</li>
<li>There shall be a way to page through collections with filters.</li>
<li>Cursors shall not expire</li>
<li>Paging shall use a standard set of hal+json <code>_links</code>

<ul>
<li><code>self</code> (current page, required)</li>
<li><code>next</code> (next page, optional)</li>
<li><code>prev</code> (previous page, optional)</li>
<li><code>first</code> (first page, required)</li>
</ul></li>
<li>Paging <code>_links</code> must include filters.</li>
<li>The page size parameter must be called <code>page_size</code></li>
<li>The cursor parameter must be called <code>cursor</code></li>
</ul>

<h4 id="page-based">Page Based</h4>

<p>In certain situations (e.g. purchasing a number) it may be beneficial to skip
over pages if you&rsquo;re not interested in that data. In this situation, <code>page</code> and
<code>page_size</code> shall be used.</p>

<p>The first page is page <code>1</code>.</p>

<p>To add a new page-based public API, you must get agreement from DevRel.</p>

<ul>
<li>Paging shall use a standard set of hal+json <code>_links</code>

<ul>
<li><code>self</code> (current page, required)</li>
<li><code>next</code> (next page, optional)</li>
<li><code>prev</code> (previous page, optional)</li>
<li><code>first</code> (first page, required)</li>
<li><code>last</code> (last page, required)</li>
</ul></li>
<li>Paging <code>_links</code> must include filters.</li>
<li>The page size parameter must be called <code>page_size</code></li>
<li>The page index parameter must be called <code>page</code></li>
<li>The page count parameter must be called <code>total_pages</code></li>
<li>The results parameter must be called <code>total_items</code></li>
</ul>

<h3 id="examples">Examples</h3>

<h4 id="cursor">Cursor</h4>

<pre><code class="language-json">{
  &quot;page_size&quot;: 100,
  &quot;cursor&quot;: &quot;19284743&quot;,
  &quot;_embedded&quot;: {
    &quot;resource_name&quot;: {
      &quot;data&quot;:&quot;here&quot;
    }
  },
  &quot;_links&quot;: {
    &quot;self&quot;: {
      &quot;href&quot;: &quot;https://example.com/resource?page_size=100&amp;order=asc&amp;cursor=19284743&quot;
    },
    &quot;next&quot;: {
      &quot;href&quot;: &quot;https://example.com/resource?page_size=100&amp;order=asc&amp;cursor=19291731&quot;
    },
    &quot;prev&quot;: {
      &quot;href&quot;: &quot;https://example.com/resource?page_size=100&amp;order=asc&amp;cursor=19283018&quot;
    }
  }
}
</code></pre>

<h4 id="page">Page</h4>

<pre><code class="language-json">{
  &quot;page_size&quot;: 100,
  &quot;page&quot;: 3,
  &quot;total_pages&quot;: 8,
  &quot;total_items&quot;: 814,
  &quot;_embedded&quot;: {
    &quot;resource_name&quot;: {
      &quot;data&quot;:&quot;here&quot;
    }
  },
  &quot;_links&quot;: {
    &quot;self&quot;: {
      &quot;href&quot;: &quot;https://example.com/resource?page_size=100&amp;order=asc&amp;page=3&quot;
    },
    &quot;next&quot;: {
      &quot;href&quot;: &quot;https://example.com/resource?page_size=100&amp;order=asc&amp;page=4&quot;
    },
    &quot;prev&quot;: {
      &quot;href&quot;: &quot;https://example.com/resource?page_size=100&amp;order=asc&amp;page=2&quot;
    },
    &quot;last&quot;: {
      &quot;href&quot;: &quot;https://example.com/resource?page_size=100&amp;order=asc&amp;page=8&quot;
    }
  }
}
</code></pre>

<h3 id="why-did-we-choose-this">Why did we choose this?</h3>

<h4 id="cursor-1">Cursor</h4>

<ul>
<li>It&rsquo;s more efficient for large data sets as you don&rsquo;t need to calculate the full set size to start returning data</li>
<li>If items are removed in an earlier page, data will not be missed</li>
</ul>

<h4 id="page-1">Page</h4>

<ul>
<li>Some APIs are better suited to page based searching, particularly those where you want to jump around the data set e.g. number pools or the number catalog (where you may want to skip a certain prefix by skipping multiple pages at a time)</li>
</ul>

<h3 id="related-links">Related Links</h3>

<ul>
<li><a href="https://slack.engineering/evolving-api-pagination-at-slack-1c1f644f8e12">Evolving pagination at Slack</a></li>
<li><a href="https://developers.facebook.com/docs/graph-api/using-graph-api/#paging">Facebook Graph API</a></li>
</ul>


        </div></div>
</main>

<script src="/api-standards/js/svgxuse.min.js"></script>
<script src="/api-standards/js/volta.min.js"></script>

<script>
    Volta.init(['menu', 'menuCollapse']);
</script>

<script src="/api-standards/js/addons/prism.js"></script>

<style>
ul {
    list-style-type: disc;
    padding-left: 30px;
}
th {
    background: lightgrey;
}

th, td {
border: 1px solid black;
    padding: 3px;
}

ul {
margin-bottom: 10px;
}

blockquote {
    border-left: 3px solid #0f6ba1;
    padding-left: 5px;
}

</style>

</body></html>

</body>
</html>
